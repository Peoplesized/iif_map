<!doctype html>
<html lang='en-GB'>
<head>
  <meta charset='utf-8'>
  <title>UNCCD IIF Maps</title>
  <link rel="stylesheet" type="text/css" href="ext/normalize.css">
  <link rel="stylesheet" type="text/css" href="ext/webflow.css">
  <link rel="stylesheet" type="text/css" href="css/unccd.css">
  <link rel="stylesheet" type="text/css" href="ext/jquery-jvectormap-2.0.4.css">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
  <div id='container' class="w-row container">

  </div>

  <script id='explorer' type="text/html">
    <div class="w-col w-col-4 controls">
      {{>detail}}
      {{>summary}}
      {{>filters}}
    </div>
    <div class="w-col w-col-8 content">
      <div class="map">
      </div>
    </div>
  </script>

  <!-- COUNTRY DETAIL PARTIAL -->
  <script id='detail' type="text/html">
    {{#selectedCountry}}
      <div class="detail" on-click='set("selectedCountry", false)'>
        <h1>{{selectedCountry ? selectedCountry.get('country') : ''}}</h1>
        <div class='description'>IIF status: {{iif_or_plan}}</div>
        <div class='description'>IIF planned: {{iif_plan_start}}</div>
        <div class='description'>{{description}}</div>
      </div>
    {{/selectedCountry}}
  </script>


  <!-- SUMMARY PARTIAL -->
  <script id='summary' type='text/html'>
    <div class="summary">
      <div class="section-heading summary-section">Summary of situation</div>
      <div class='summary-text'>{{countries.length}} countries</div>
      <div class='summary-text' on-click='toggleFilter("iif_exists")'>With IIFs: {{ withIIFs.length }}</div>
    </div>
  </script>

  <!-- FILTERS PARTIAL -->
  <script id='filters' type="text/html">
    <div class="filters">
      <div class="section-heading list">List of countries</div>
      {{#each countries}}
        <div class='summary-text' on-click='viewCountry(iso3)'>{{country}}</div> 
      {{/each}}
    </div>
  </script>


  <script src='http://cdn.ractivejs.org/latest/ractive.min.js'></script>
  <script src='ext/jquery.min.js'></script>
  <script src='ext/lodash.min.js'></script>
  <script src='ext/backbone.min.js'></script>
  <script src='ext/backbone.obscura.js'></script>
  <script src='ext/ractive-backbone-adaptor.min.js'></script>
  <script src='ext/jquery-jvectormap-2.0.4.min.js'></script>
  <script src='ext/jquery-jvectormap-world-merc.js'></script>
  <!-- Application -->
  <script src='js/collections.js'></script>
  <script src='js/explorer_view.js'></script>
  <script src='js/map.js'></script>
  <script src='js/script.js'></script>

</body>
</html>